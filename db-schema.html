<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HouseMate Database Schema</title>
    <link rel="stylesheet" href="db-schema.css">
</head>
<body>
    <div class="container">
        <h1>HouseMate Database Schema</h1>
        <p class="subtitle">Entity Relationship Diagram</p>

        <div class="schema-container">
            <!-- User Table -->
            <div class="table-card" id="user">
                <div class="table-header">
                    <span class="table-icon">üë§</span>
                    <span class="table-name">users</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">username</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">password</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">points_score</span>
                        <span class="column-type">INT</span>
                    </div>
                </div>
            </div>

            <!-- Project Table -->
            <div class="table-card" id="project">
                <div class="table-header">
                    <span class="table-icon">üìÅ</span>
                    <span class="table-name">projects</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">project_name</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">description</span>
                        <span class="column-type">TEXT</span>
                    </div>
                </div>
            </div>

            <!-- Task Table -->
            <div class="table-card" id="task">
                <div class="table-header">
                    <span class="table-icon">‚úÖ</span>
                    <span class="table-name">task</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">title</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">description</span>
                        <span class="column-type">TEXT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">date_to_execute</span>
                        <span class="column-type">DATETIME</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">done</span>
                        <span class="column-type">BOOLEAN</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">points_for_completion</span>
                        <span class="column-type">INT</span>
                    </div>
                    <div class="column fk">
                        <span class="column-key">FK</span>
                        <span class="column-name">assigned_to</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column fk">
                        <span class="column-key">FK</span>
                        <span class="column-name">project_id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                </div>
            </div>

            <!-- Competition Table -->
            <div class="table-card" id="competition">
                <div class="table-header">
                    <span class="table-icon">üèÜ</span>
                    <span class="table-name">competition</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">goal</span>
                        <span class="column-type">VARCHAR(255)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">type</span>
                        <span class="column-type">VARCHAR(255)</span>
                    </div>
                </div>
            </div>

            <!-- Competition Participants (Join Table) -->
            <div class="table-card join-table" id="competition-participants">
                <div class="table-header">
                    <span class="table-icon">üîó</span>
                    <span class="table-name">competition_participants</span>
                </div>
                <div class="table-body">
                    <div class="column fk">
                        <span class="column-key">FK</span>
                        <span class="column-name">competition_id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column fk">
                        <span class="column-key">FK</span>
                        <span class="column-name">user_id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                </div>
            </div>

            <!-- Lists Table -->
            <div class="table-card" id="lists">
                <div class="table-header">
                    <span class="table-icon">üìã</span>
                    <span class="table-name">lists</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">title</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">description</span>
                        <span class="column-type">TEXT</span>
                    </div>
                </div>
            </div>

            <!-- ListItem Table -->
            <div class="table-card" id="list-item">
                <div class="table-header">
                    <span class="table-icon">üìù</span>
                    <span class="table-name">list_item</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">text_of_item</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">done</span>
                        <span class="column-type">BOOLEAN</span>
                    </div>
                </div>
            </div>

            <!-- Feedback Table -->
            <div class="table-card" id="feedback">
                <div class="table-header">
                    <span class="table-icon">üí¨</span>
                    <span class="table-name">feedback</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">aspect</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">suggestion</span>
                        <span class="column-type">TEXT</span>
                    </div>
                </div>
            </div>

            <!-- GroceryProduct Table -->
            <div class="table-card" id="grocery-product">
                <div class="table-header">
                    <span class="table-icon">üõí</span>
                    <span class="table-name">grocery_product</span>
                </div>
                <div class="table-body">
                    <div class="column pk">
                        <span class="column-key">PK</span>
                        <span class="column-name">id</span>
                        <span class="column-type">BIGINT</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">name_of_product</span>
                        <span class="column-type">VARCHAR(150)</span>
                    </div>
                    <div class="column">
                        <span class="column-key"></span>
                        <span class="column-name">description</span>
                        <span class="column-type">TEXT</span>
                    </div>
                </div>
            </div>

            <!-- Relationship Lines (SVG) -->
            <svg class="relationships" viewBox="0 0 1200 800">
                <!-- Task -> User (Many-to-One) -->
                <line x1="350" y1="180" x2="150" y2="100" class="relation-line"/>
                <text x="250" y="130" class="relation-label">N:1</text>

                <!-- Task -> Project (Many-to-One) -->
                <line x1="350" y1="150" x2="350" y2="50" class="relation-line"/>
                <text x="360" y="100" class="relation-label">N:1</text>

                <!-- Competition <-> User (Many-to-Many via join table) -->
                <line x1="600" y1="80" x2="750" y2="80" class="relation-line"/>
                <line x1="750" y1="80" x2="750" y2="180" class="relation-line"/>
                <line x1="150" y1="130" x2="150" y2="180" class="relation-line"/>
                <line x1="150" y1="180" x2="750" y2="180" class="relation-line"/>
                <text x="450" y="70" class="relation-label">M:N</text>
            </svg>
        </div>

        <!-- Relationships Legend -->
        <div class="legend">
            <h3>Relationships</h3>
            <div class="legend-items">
                <div class="legend-item">
                    <div class="legend-line one-to-many"></div>
                    <span><strong>Task</strong> ‚Üí <strong>User</strong> (Many-to-One via assigned_to)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-line one-to-many"></div>
                    <span><strong>Task</strong> ‚Üí <strong>Project</strong> (Many-to-One via project_id)</span>
                </div>
                <div class="legend-item">
                    <div class="legend-line many-to-many"></div>
                    <span><strong>Competition</strong> ‚Üî <strong>User</strong> (Many-to-Many via competition_participants)</span>
                </div>
            </div>
        </div>

        <!-- Key Legend -->
        <div class="key-legend">
            <h3>Key Types</h3>
            <div class="key-items">
                <div class="key-item">
                    <span class="key-badge pk">PK</span>
                    <span>Primary Key</span>
                </div>
                <div class="key-item">
                    <span class="key-badge fk">FK</span>
                    <span>Foreign Key</span>
                </div>
            </div>
        </div>

        <footer>
            <p>HouseMate Microservices - Database Schema</p>
            <p>MySQL 8.0 | Spring Data JPA | Hibernate</p>
        </footer>
    </div>
</body>
</html>
